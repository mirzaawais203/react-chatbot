{"version":3,"sources":["../../source/helpers/getPhoneInputWithCountryStateUpdateFromNewProps.test.js"],"names":["getPhoneInputWithCountryStateUpdateFromNewProps","newProps","prevProps","state","metadata","describe","it","reset","defaultCountry","should","deep","equal","phoneDigits","undefined","value","country","hasUserSelectedACountry","international","expect","to","be"],"mappings":"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","sourcesContent":["import metadata from 'libphonenumber-js/metadata.min.json'\n\nimport _getPhoneInputWithCountryStateUpdateFromNewProps from './getPhoneInputWithCountryStateUpdateFromNewProps'\n\nfunction getPhoneInputWithCountryStateUpdateFromNewProps(newProps, prevProps, state) {\n\treturn _getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t{\n\t\t\t...newProps,\n\t\t\tmetadata\n\t\t},\n\t\t{\n\t\t\t...prevProps,\n\t\t\tmetadata\n\t\t},\n\t\tstate\n\t)\n}\n\ndescribe('getPhoneInputWithCountryStateUpdateFromNewProps', () => {\n\tit('should get state update from new props (reset)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\treset: true,\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined,\n\t\t\tcountry: 'RU',\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (reset) (international)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\treset: true,\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tphoneDigits: '+7',\n\t\t\tvalue: undefined,\n\t\t\tcountry: 'RU',\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country did not change)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (default country changed) (no `value`)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country changed) (no `value`) (new country not supported)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'XX'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (default country changed) (`value` is intl prefix)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'CA'\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+1'\n\t\t\t}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'CA',\n\t\t\tphoneDigits: '+1',\n\t\t\tvalue: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country changed) (has `value`)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'FR'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (default country changed to `undefined`) (has `value`)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: undefined,\n\t\t\t\tdefaultCountry: 'FR'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: undefined,\n\t\t\t\tdefaultCountry: undefined\n\t\t\t},\n\t\t\t{}\n\t\t)).to.deep.equal({\n\t\t\tcountry: 'FR',\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (`value` changed: undefined -> value)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'FR'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: '+78005553535',\n\t\t\tvalue: '+78005553535'\n\t\t})\n\t})\n\n\tit('should get state update from new props (`value` changed: value -> undefined)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined,\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/377\n\tit('should get state update from new props (`value` changed: undefined -> +78)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{ value: '+78' },\n\t\t\t{},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: '+78',\n\t\t\tvalue: '+78'\n\t\t})\n\t})\n\n\tit('should get state update from new props (`value` changed, but already displayed)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (`value` did not change)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n})"],"file":"getPhoneInputWithCountryStateUpdateFromNewProps.test.js"}